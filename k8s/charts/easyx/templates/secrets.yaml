apiVersion: v1
kind: Secret
metadata:
  name: {{ include "easyx.fullname" . }}-secrets
  labels:
    {{- include "easyx.labels" . | nindent 4 }}
type: Opaque
stringData:
  jwt-secret: {{ .Values.api.secrets.jwtSecret | quote }}
  database-url: {{ .Values.api.secrets.databaseUrl | quote }}
---
{{- if .Values.blockchain.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "easyx.fullname" . }}-blockchain-secrets
  labels:
    {{- include "easyx.labels" . | nindent 4 }}
type: Opaque
stringData:
  {{- if .Values.blockchain.btc.enabled }}
  btc-rpc-password: {{ .Values.blockchain.btc.rpcPassword | quote }}
  {{- end }}
  {{- if .Values.blockchain.ltc.enabled }}
  ltc-rpc-password: {{ .Values.blockchain.ltc.rpcPassword | quote }}
  {{- end }}
  {{- if .Values.blockchain.eth.enabled }}
  eth-mnemonic: {{ .Values.blockchain.eth.mnemonic | quote }}
  {{- end }}
  {{- if .Values.blockchain.tron.enabled }}
  tron-api-key: {{ .Values.blockchain.tron.apiKey | quote }}
  {{- end }}
{{- end }}
